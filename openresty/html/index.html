<!DOCTYPE html>
<html>
<head>
<title>Welcome to PostgREST Starter Kit!</title>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css'>
<style>
    body {
        width: 35em;
        margin: 0 auto;
    }
</style>
<script>
    function onLoad(){
        var n = document.getElementsByClassName('location')
        for (var i = 0; i < n.length; i++) {
            n[i].innerHTML = window.location;
        }
    }
</script>
</head>
<body onload="onLoad()">
    <h1>PostgREST Starter Kit!</h1>

    <p>Your API is up and running.</p>

    <h2>API Endpoints</h2>
    <ul>
        <li><span class="location"></span>rest/</li>
    </ul>


    <h2>Explore</h2>
    <code>curl &quot;<span class="location"></span>rest/todos?select=id,todo&quot;</code>

    <h2>Swagger</h2>
    The Swagger utility is reachable via <a href"http://localhost:8081/">http://localhost:8081/</a>.
    <p>
      The default role anonymous just allows <code>select id, todo from todos</code>, thus not even <code>select * from todos</code>.
    </p>
    <p>
      In order to get full access to todos (full select, insert, update and delete), you must be authorized.
    </p>
    <p>
      To do this, click on the "Authorize" button, fill in the JWT shown below, click on the second "Authorize" button and then click "Close".
    </p>
    <code>Bearer&nbsp;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoid2VidXNlciJ9.CRBXN21HRXMk2BiC7rMNQzrOQWZWpI_KNHtXlZ8lc08</code>
    <p>You may want to go to <a href="https://jwt.io" >https://jwt.io</a> for more explanation about JWTs. The JWT secret is stored in the <code>.env</code> file.</p>

    <h2>pgAdmin</h2>
    The pgAdmin utility is reachable via <a href"http://localhost:8082/">http://localhost:8082/</a>.
    
    <p>To access the database started by Docker Compose you need to know the IP address.</p>
    <p>
      This Docker Compose setup has assigned static IP addresses to all the services and the local PostgreSQL database has IP address 172.25.0.2.
      Use this IP address for the Host name/address in pgAdmin.
      The container uses a Docker volume `pgadmin-data` so your settings will be saved.
    </p>
    
    <h2>Support and Documentation</h2>
    <ul>
    <li><a href="http://docs.subzero.cloud">subZero Documentation</a></li>
    <li><a href="https://postgrest.com/en/stable/api.html">PostgREST API Referance</a></li>
    <li><a href="https://www.postgresql.org/docs/current/static/index.html">PostgreSQL Manual</a></li>
    <li><a href="https://slack.subzero.cloud/">Slack</a> — Get help, share ideas and feedback</li>
    <li><a href="https://github.com/subzerocloud/postgrest-starter-kit/issues">GitHub Issues</a> — Check open issues, send feature requests</li>
    </ul>

    Developed by <a href="https://subzero.cloud">subZero</a>
</body>
</html>
